<WeatherChartScreen>:
    canvas.before:
        Color:
            rgba: (0.95, 0.98, 1, 1)  # light blue background
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'
        spacing: 20
        padding: [0, 0, 0, 0]

        NavBar:

        BoxLayout:
            orientation: 'vertical'
            padding: [40, 20, 40, 40]
            spacing: 20
            ModernCard:
                orientation: 'vertical'
                size_hint_y: 0.8
                ModernLabel:
            text: "Weather & Irrigation Data"
            font_size: 28
            bold: True
            color: (0.1, 0.2, 0.3, 1)
            size_hint_y: None
            height: 50
                ModernLabel:
                text: "5-Day Weather Overview"
                font_size: 18
                color: (0.2, 0.3, 0.4, 1)
                halign: 'center'
                size_hint_y: None
                height: 30
                ModernButton:
                text: "Refresh Weather Data"
                on_press: root.load_weather()
            Image:
                id: chart_image
                    source: "weather_chart.png"
                allow_stretch: True
                keep_ratio: True
                    size_hint_y: 0.7
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: 0.2
            spacing: 10
                ModernButton:
                text: "‚Üê Back to Vegetable Selection"
                background_color: (0.7, 0.7, 0.7, 1)
                color: (0.2, 0.2, 0.2, 1)
                font_size: 14
                    on_press: app.root.current = 'vegetable_selection'
                ModernButton:
                text: "Back to Home"
                background_color: (0.2, 0.6, 0.2, 1)
                color: (1, 1, 1, 1)
                font_size: 16
                    on_press: app.root.current = 'home'
                ModernButton:
                    text: "Go to Soil Moisture & ET"
                    background_color: (0.2, 0.6, 0.2, 1)
                    color: (1, 1, 1, 1)
                    font_size: 16
                    on_press: app.root.current = 'soil_moisture'
